{"version":3,"sources":["Henkilo.js","personService.js","Notification.js","App.js","index.js"],"names":["Henkilo","_ref","key","name","number","react_default","a","createElement","url","personService","getAll","axios","get","create","newPerson","post","remove","id","newUrl","console","log","delete","then","response","data","Notification","ilmoitus","className","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleNameChange","event","target","value","setState","newName","handleNumberChange","newNumber","deletePerson","personId","persons","state","filter","person","concat","setTimeout","addPerson","preventDefault","map","includes","personObject","newNote","_this2","_this3","onSubmit","onChange","type","src_Notification","src_Henkilo","onClick","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e157a438.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Henkilo = ({key, name, number}) => {\r\n    return(\r\n        <p key={key}>\r\n            {name} {number}\r\n        </p>\r\n    )\r\n}\r\n\r\nexport default Henkilo","import axios from 'axios'\r\n\r\nconst url = '/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n    return axios.get(url)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    return axios.post(url, newPerson)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const newUrl = url + '/' + id\r\n    console.log(newUrl)\r\n    const request = axios.delete(newUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove}","import React from 'react'\r\n\r\nconst Notification = ({ilmoitus}) => {\r\n    return(\r\n        <h3 className=\"notification\">{ilmoitus}</h3>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react';\nimport Henkilo from './Henkilo'\nimport personService from './personService'\nimport Notification from './Notification'\nimport './index.css'\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [\n        { name: 'Arto Hellas', number: '040-123456' }\n      ],\n      newName: '',\n      newNumber: '',\n      ilmoitus: ''\n    }\n  }\n\n  componentDidMount(){\n   personService.getAll()\n    .then(response => {\n      const persons = response.data\n      console.log(persons)\n      this.setState({ persons: response.data})\n    })\n  }\n\n  handleNameChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ newName: event.target.value })\n  }\n\n  handleNumberChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ newNumber: event.target.value })\n  }\n\n  deletePerson = (personId) => {\n    console.log(personId)\n    personService.remove(personId)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.filter( person => person.id !== personId),\n          ilmoitus: `Poistettiin henkilö jonka id '${personId}'`\n        })\n        setTimeout(() => {\n          this.setState({ilmoitus: null})\n        }, 5000)\n      })\n  }\n\n  addPerson = (event) => {\n    event.preventDefault() \n    const name = this.state.newName\n    const number = this.state.newNumber\n    const names = this.state.persons.map(person => person.name)\n    if(names.includes(name) === false)\n    {\n      console.log('meni läpi')\n      const personObject = {name: this.state.newName, number: this.state.newNumber}\n\n        personService.create(personObject)\n          .then(response => {\n          this.setState({\n          persons: this.state.persons.concat(response.data),\n          newNote: '', \n          ilmoitus: `Lisättiin henkilö ${personObject.name}`\n          })\n          setTimeout(() => {\n            this.setState({ilmoitus: null})\n          }, 5000) \n        })\n    }\n  }\n\n\n  render() {\n  const persons = this.state.persons \n  console.log(persons)\n    return (\n      <div>\n\n        <h2>Puhelinluettelo</h2>\n        <form onSubmit={this.addPerson}>\n          <div>\n            nimi: <input value ={this.state.newName} onChange={this.handleNameChange}/>\n          </div>\n          <div>\n            numero: <input value ={this.state.newNumber} onChange={this.handleNumberChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">lisää</button>\n          </div>\n        </form>\n        <h2>Numerot</h2>\n          <Notification ilmoitus={this.state.ilmoitus} />\n          {persons.map( \n          person => <div key={person.id}>\n          <Henkilo name={person.name} number={person.number} /> \n          <button key={person.id} onClick={() => {this.deletePerson(person.id)}}>x</button>\n          </div>\n          )} \n\n\n      </div>\n    );\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}